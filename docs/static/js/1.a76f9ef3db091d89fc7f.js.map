{"version":3,"sources":["webpack:///src/common/rating/rating.vue","webpack:///./src/common/rating/rating.vue?ed56","webpack:///./src/common/rating/rating.vue","webpack:///src/common/price/price.vue","webpack:///./src/common/price/price.vue?a7e3","webpack:///./src/common/price/price.vue","webpack:///src/common/cart/cart.vue","webpack:///./src/common/cart/cart.vue?46b2","webpack:///./src/common/cart/cart.vue","webpack:///src/components/goods/goodsDetails/goodsDetails.vue","webpack:///./src/components/goods/goodsDetails/goodsDetails.vue?2eff","webpack:///./src/components/goods/goodsDetails/goodsDetails.vue","webpack:///src/components/goods/goods.vue","webpack:///./src/components/goods/goods.vue?1087","webpack:///./src/components/goods/goods.vue","webpack:///./src/common/js/HQ.js"],"names":["rating","props","ratings","type","Array","default","selectType","Number","onlyContent","Boolean","desc","Object","all","positive","negative","computed","this","filter","rateType","negaitive","methods","select","$emit","toggleContent","rating_rating","render","_vm","_h","$createElement","_c","_self","staticClass","class","active","on","click","$event","_v","_s","length","touchstart","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","price","data","foodNum","food","oldPrice","addCart","count","vue_esm","set","decreaseCart","price_price","_e","common_price_price","cart","isActive","initY","scrollY","selectFoods","deliveryPrice","minPrice","mounted","scroll","goodItem","recordY","listY","el","$refs","cls","totalPrice","Price","forEach","totalCount","watch","val","tt","ShowBlock","clearAll","initScrollData","e","re","Math","ceil","changedTouches","clientY","abs","startScroll","moveElm","style","transition","top","entScroll","ul","querySelector","YY","clientHeight","scrollHeight","getBoundingClientRect","acquireHeight","components","BUY","cart_cart","ref","directives","name","rawName","value","expression","_l","index","key","touchmove","touchend","attrs","c_c_count","common_cart_cart","cart_normalizeComponent","goodsDetails","filters","formatDate","time","date","Date","HQ","showBlock","transfrom","addFoot","itive","needShow","text","PRICE","SPLICT","splict","RATING","goodsDetails_goodsDetails","enter-active-class","leave-active-class","src","image","alt","sellCount","info","ratingstype","ratingsOnContent","_f","rateTime","username","avatar","goods_goodsDetails_goodsDetails","goodsDetails_normalizeComponent","goods","seller","listH","foodList","created","_this","axios","get","then","res","classMap","menu","parent","foods","good","push","rel","goodsH","carHeight","calculateHeight","querySelectorAll","height","i","switchMenuIndex","toggleNav","scrollFoods","itemIndex","goodsDetail","goodWrapper","acquire","goods_goods","current","findex","icon","description","select-foods","delivery-price","min-price","goods_Component","goods_normalizeComponent","padLeftZero","str","substr","test","replace","RegExp","$1","getFullYear","o","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","k","stry"],"mappings":"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","file":"static/js/1.a76f9ef3db091d89fc7f.js","sourcesContent":["<template>\r\n  <div class=\"ratingSelect\">\r\n    <div class=\"ratingType\">\r\n      <div class=\"block goodsAll\" :class=\"{active:selectType===2}\" @click=\"select(2)\">\r\n        <span class=\"text\">{{desc.all}}</span>\r\n        <span class=\"ratingSum\">{{ratings.length}}</span>\r\n      </div>\r\n      <div  class=\"block goodPositive\" :class=\"{active:selectType===0}\"  @click=\"select(0)\">\r\n        <span class=\"text\">{{desc.positive}}</span>\r\n        <span class=\"ratingSum\">{{positive.length}}</span>\r\n      </div>\r\n      <div class=\"block goodNegative\" :class=\"{active:selectType===1}\"  @click=\"select(1)\">\r\n        <span class=\"text\">{{desc.negative}}</span>\r\n        <span class=\"ratingSum\">{{negaitive.length}}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"switch\">\r\n      <span class=\"iconfont icon-gou\" :class=\"{active:onlyContent}\" @touchstart='toggleContent'></span>\r\n      <span class=\"text\">只看有内容的评价</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  const ALL = 2;\r\n  const POSITIVE = 0;\r\n  const NEGAITIVE = 1;\r\n  export default {\r\n    props: {\r\n      ratings: {\r\n        type: Array,\r\n        default () {\r\n          return [];\r\n        }\r\n      },\r\n      selectType: {\r\n        type: Number,\r\n        default: ALL\r\n      },\r\n      onlyContent: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      desc: {\r\n        type: Object,\r\n        default () {\r\n          return {\r\n            all: '全部',\r\n            positive: '满意',\r\n            negative: '不满意'\r\n          };\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      positive () {\r\n        return this.ratings.filter((rating) => {\r\n          return rating.rateType === POSITIVE;\r\n        });\r\n      },\r\n      negaitive () {\r\n        return this.ratings.filter((rating) => {\r\n          return rating.rateType === NEGAITIVE;\r\n        });\r\n      }\r\n    },\r\n    methods: {\r\n      select (type) {\r\n        this.$emit('ratingstype', type);\r\n      },\r\n      toggleContent () {\r\n        this.$emit('ratingsOnContent', this.onlyContent);\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  @import '../../common/tools/mixin.less';\r\n  .ratingSelect {\r\n    .px2Rem(padding-top,24);\r\n    .ratingType {\r\n      .px2Rem2(margin,0, 36);\r\n      .px2Rem(padding-bottom,36 );\r\n      .border(2,rgba(7,17,27,0.1));\r\n      .block {\r\n        display: @dib;\r\n        color: rgb(77,85,93);\r\n        background-color: rgb(0,160,220);\r\n        .px2Rem2(padding,16,24);\r\n        .px2Rem(margin-right,24);\r\n        .px2Rem(border-radius,4);\r\n        .px2Rem(line-height,32);\r\n        .text {\r\n          font-weight: 700;\r\n          .px2Rem(font-size,28);\r\n        }\r\n        .ratingSum {\r\n          .px2Rem(font-size,16);\r\n        }\r\n        &.active {\r\n          color: #fff;\r\n        }\r\n        &.goodPositive {\r\n          background-color: rgba(0,160,220,0.2);\r\n          &.active {\r\n            background-color: rgb(0,160,220);\r\n          }\r\n        }\r\n        &.goodNegative {\r\n          background-color: rgba(77,85,93,0.2);\r\n          &.active {\r\n            background-color: rgb(77,85,93);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .switch{\r\n      .px2Rem2(padding,24, 36);\r\n      .border(2,rgba(7,17,27,0.1));\r\n      .icon-gou {\r\n        color: rgb(147,153,159);\r\n        vertical-align: middle;\r\n        .px2Rem(font-size, 24);\r\n        .px2Rem(line-height, 48);\r\n        &.active {\r\n          color: rgb(0,160,220);\r\n        }\r\n      }\r\n      .text {\r\n        .px2Rem(font-size,24);\r\n        .px2Rem(line-height,48);\r\n        .px2Rem(margin-left,8);\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/common/rating/rating.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ratingSelect\"},[_c('div',{staticClass:\"ratingType\"},[_c('div',{staticClass:\"block goodsAll\",class:{active:_vm.selectType===2},on:{\"click\":function($event){_vm.select(2)}}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.desc.all))]),_vm._v(\" \"),_c('span',{staticClass:\"ratingSum\"},[_vm._v(_vm._s(_vm.ratings.length))])]),_vm._v(\" \"),_c('div',{staticClass:\"block goodPositive\",class:{active:_vm.selectType===0},on:{\"click\":function($event){_vm.select(0)}}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.desc.positive))]),_vm._v(\" \"),_c('span',{staticClass:\"ratingSum\"},[_vm._v(_vm._s(_vm.positive.length))])]),_vm._v(\" \"),_c('div',{staticClass:\"block goodNegative\",class:{active:_vm.selectType===1},on:{\"click\":function($event){_vm.select(1)}}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.desc.negative))]),_vm._v(\" \"),_c('span',{staticClass:\"ratingSum\"},[_vm._v(_vm._s(_vm.negaitive.length))])])]),_vm._v(\" \"),_c('div',{staticClass:\"switch\"},[_c('span',{staticClass:\"iconfont icon-gou\",class:{active:_vm.onlyContent},on:{\"touchstart\":_vm.toggleContent}}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"只看有内容的评价\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e102fa26\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/common/rating/rating.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e102fa26\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./rating.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./rating.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./rating.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e102fa26\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./rating.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e102fa26\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/rating/rating.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"buy\">\r\n      <i  v-if= 'this.food.count' class=\"minus iconfont icon-msnui-sub\" @touchstart ='decreaseCart'></i>\r\n      <span  v-if= 'this.food.count' class=\"count\">{{this.food.count}}</span>\r\n      <i class=\"sum iconfont icon-jiahao\" @touchstart='addCart()'></i>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import Vue from 'vue';\r\n  export default {\r\n    data () {\r\n      return {\r\n        foodNum: 0\r\n      };\r\n    },\r\n    props: {\r\n      food: {\r\n        type: Object,\r\n        default () {\r\n           return {oldPrice: ''};\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n    },\r\n    methods: {\r\n      addCart () {\r\n        if (!this.food.count) {\r\n          Vue.set(this.food, 'count', 1);\r\n        } else {\r\n          this.food.count++;\r\n        }\r\n      },\r\n      decreaseCart () {\r\n        if (this.food.count) {\r\n          this.food.count--;\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  @import '../../common/tools/mixin.less';\r\n  .buy {\r\n    position:absolute;\r\n    .px2Rem(right, 0);\r\n    .px2Rem(bottom, 36);\r\n    .px2Rem(height, 48);\r\n    .px2Rem(line-height, 48);\r\n    .count {\r\n      display: @dib;\r\n      text-align: center;\r\n      .wh(30, 48);\r\n      .px2Rem(font-size, 20);\r\n      .px2Rem(line-height, 48);\r\n      color: rgb(147, 153, 159);\r\n    }\r\n    .iconfont {\r\n      vertical-align: middle;\r\n      .px2Rem(font-size, 48);\r\n      color: rgb(0,160,220);\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/common/price/price.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buy\"},[(this.food.count)?_c('i',{staticClass:\"minus iconfont icon-msnui-sub\",on:{\"touchstart\":_vm.decreaseCart}}):_vm._e(),_vm._v(\" \"),(this.food.count)?_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(this.food.count))]):_vm._e(),_vm._v(\" \"),_c('i',{staticClass:\"sum iconfont icon-jiahao\",on:{\"touchstart\":function($event){_vm.addCart()}}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-05517475\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/common/price/price.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05517475\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./price.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./price.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./price.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05517475\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./price.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-05517475\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/price/price.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"cart\" ref='cart'>\r\n      <div class=\"goodsType_wraper\" v-show=\"isActive\">\r\n        <div class=\"goodsType\">\r\n          <div class=\"g_title\">\r\n            <span class=\"g_cart\">购物车</span>\r\n            <span class=\"clear\"  @touchstart='clearAll'>清空</span>\r\n          </div>\r\n          <div ref=\"goodItem\" class=\"goodItem\">\r\n            <ul >\r\n              <li class=\"typeItem\" v-for=\"(val, index) in selectFoods\" :key=\"index\" @touchstart= 'initScrollData($event, scroll)' @touchmove = \"startScroll($event, scroll)\" @touchend= \"entScroll(scroll)\">\r\n                <span class=\"goodsName\">{{val.name}}</span>\r\n                <span class=\"goodPrice\">￥<span class=\"p-price\">{{val.price * val.count}}</span></span>\r\n                <BUY :food='val'></BUY>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"c-c\" @touchstart='ShowBlock'>\r\n        <div class=\"c-c-c\" :class=\"{c_c_count:selectFoods.length}\">\r\n          <span class=\"iconfont icon-gouwuche\"></span>\r\n        </div>\r\n        <div class=\"count\" v-show=\"totalCount\">\r\n         <span> {{totalCount}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"c-left\">\r\n        <div class=\"c-price\">\r\n          <span class=\"c-p-prize\">￥{{totalPrice}}</span>\r\n        </div>\r\n        <div class=\"c-info\">\r\n          <span class=\"c-i-info\">另需配送费￥{{deliveryPrice}}元</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"c-right\">\r\n        <span>￥{{minPrice}}起送 </span>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BUY from '../price/price';\r\nexport default {\r\n  data () {\r\n    return {\r\n      isActive: false,\r\n      initY: 0,\r\n      scrollY: 0\r\n    };\r\n  },\r\n  props: {\r\n    selectFoods: {\r\n      type: Array\r\n    },\r\n    deliveryPrice: {\r\n      type: Number\r\n    },\r\n    minPrice: {\r\n      type: Number\r\n    }\r\n  },\r\n  mounted () {\r\n    this.scroll = {\r\n      goodItem: {\r\n        scrollY: 0,\r\n        recordY: 0,\r\n        listY: [],\r\n        el: this.$refs.goodItem,\r\n        cls: '.goodItem'\r\n      }};\r\n  },\r\n  computed: {\r\n    totalPrice () {\r\n      let Price = 0;\r\n      this.selectFoods.forEach(food => {\r\n        Price += food.price * food.count;\r\n      });\r\n      return Price;\r\n    },\r\n    totalCount () {\r\n      let count = 0;\r\n      this.selectFoods.forEach(food => {\r\n        count += food.count;\r\n      });\r\n      return count;\r\n    }\r\n  },\r\n  watch: {\r\n    selectFoods (val, tt) {\r\n      if (!val.length) {\r\n        this.isActive = false;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ShowBlock () {\r\n      if (!this.selectFoods.length) {\r\n        this.isActive = false;\r\n        return;\r\n      }\r\n      this.isActive = !this.isActive;\r\n    },\r\n    clearAll () {\r\n      this.selectFoods.forEach(food => {\r\n        food.count = 0;\r\n      });\r\n    },\r\n    initScrollData (e, re) {\r\n      this.initY = Math.ceil(e.changedTouches[0].clientY) + Math.abs(re.goodItem.recordY);\r\n    },\r\n    startScroll (e, re) {\r\n      var moveElm = re.goodItem.el;\r\n      this.scrollY = re.goodItem.scrollY = re.goodItem.recordY = Math.ceil(e.changedTouches[0].clientY - this.initY);\r\n      if (re.goodItem.scrollY < 0) {\r\n        moveElm.style.transition = 'none';\r\n        moveElm.style.top = Math.ceil(re.goodItem.scrollY) + 'px';\r\n      } else {\r\n        moveElm.style.transition = 'none';\r\n        moveElm.style.top = Math.ceil(re.goodItem.scrollY) + 'px';\r\n      }\r\n    },\r\n    entScroll (re) {\r\n      var moveElm = re.goodItem.el;\r\n      var ul = re.goodItem.el.querySelector(re.goodItem.cls + '>ul');\r\n      if (re.goodItem.scrollY < 0) {\r\n        let YY = moveElm.clientHeight - ul.scrollHeight;\r\n        if (Math.abs(re.goodItem.scrollY) >= Math.abs(YY)) {\r\n          re.goodItem.recordY = re.goodItem.scrollY = YY;\r\n          moveElm.style.top = YY + 'px';\r\n          moveElm.style.transition = 'all 0.2s';\r\n        }\r\n      } else {\r\n        if (moveElm.getBoundingClientRect().top > 174) {\r\n          moveElm.style.top = re.goodItem.recordY = 0;\r\n          moveElm.style.transition = 'all 0.2s';\r\n        }\r\n      }\r\n    },\r\n    acquireHeight () {\r\n      var height = this.$refs.cart;\r\n      return height.clientHeight;\r\n    }\r\n  },\r\n  components: {\r\n    BUY\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  @import '../../common/tools/mixin.less';\r\n  .cart {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom:0;\r\n    z-index: 999;\r\n    .px2Rem(height, 96);\r\n    width: 100%;\r\n    display: flex;\r\n    background-color: #141d27;\r\n    .goodsType_wraper {\r\n      position: fixed;\r\n      left: 0;\r\n      top: 0;\r\n      width: 100%;\r\n      height:100%;\r\n      z-index: -1;\r\n      background-color: rgba(7,17,27,0.6);\r\n      .goodsType {\r\n        width: 100%;\r\n        position: absolute;\r\n        left: 0;\r\n        overflow: hidden;\r\n        background-color: #f3f5f7;\r\n        .px2Rem(bottom,96);\r\n        .px2Rem(height,515);\r\n        .g_title {\r\n          display:flex;\r\n          .px2Rem(line-height, 80);\r\n          .px2Rem2(padding, 0, 36);\r\n          .border(4, rgba(7,17,27,0.1));\r\n          .g_cart {\r\n            flex: 1;\r\n            color: rgb(7,17,27);\r\n            .px2Rem(font-size, 28);\r\n          }\r\n          .clear {\r\n            flex: 1;\r\n            text-align: right;\r\n            color: rgb(0,160,220);\r\n            .px2Rem(font-size, 24);\r\n          }\r\n        }\r\n        .goodItem {\r\n          position: relative;\r\n          .typeItem {\r\n            position: relative;\r\n            background-color: #fff;\r\n            display: flex;\r\n            .px2Rem2(padding, 24, 36);\r\n            .px2Rem(line-height, 48);\r\n            .border(2,rgba(7,17,27,0.1));\r\n            .goodsName {\r\n              flex: 1;\r\n              color: rgb(7,17,27);\r\n              .px2Rem(font-size, 28);\r\n            }\r\n            .goodPrice {\r\n              color: red;\r\n              .px2Rem(font-size, 20);\r\n              .p-price {\r\n                .px2Rem(font-size, 28);\r\n                .px2Rem(padding-right,168);\r\n              }\r\n            }\r\n            .buy {\r\n              .px2Rem(right, 36);\r\n              .px2Rem(bottom, 30);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .c-c {\r\n      position: absolute;\r\n      .px2Rem(left, 36);\r\n      .px2Rem(bottom, 16);\r\n      .wh(116, 116);\r\n      text-align: center;\r\n      .px2Rem(line-height, 124);\r\n      background-color: #141d27;\r\n      border-radius: 50%;\r\n      .c-c-c {\r\n        display: @dib;\r\n        .wh(88,88);\r\n        .px2Rem(line-height, 88);\r\n        border-radius: 50%;\r\n        color: rgba(255,255,255,0.4);\r\n        background-color: rgba(255,255,255,0.4);\r\n        // background-color: red;\r\n      }\r\n      .c_c_count {\r\n        .c-c-c;\r\n        color: rgb(255,255,255);\r\n        background-color: rgb(0,160,220);\r\n      }\r\n      .count {\r\n        position: absolute;\r\n        top: 0;\r\n        font-weight: 700;\r\n        color: rgb(255,255,255);\r\n        background-color:rgb(240,20,20);\r\n        .px2Rem(left,88);\r\n        .wh(48,32);\r\n        .px2Rem2(border-radius,12,12);\r\n        .px2Rem(font-size,18);\r\n        .px2Rem(line-height,32);\r\n        .box(box-shadow,0,4,8,0,rgba(0,0,0,0.4));\r\n      }\r\n    }\r\n    .c-left {\r\n      flex: 1;\r\n      display: flex;\r\n      .c-price {\r\n        flex: 1;\r\n        .px2Rem(line-height, 48);\r\n        .px2Rem4(padding, 0, 24, 0, 160);\r\n        .px2Rem2(margin, 24, 0);\r\n        .bd(border-right, 2, solid, rgba(255,255,255,0.1));\r\n        .c-p-prize {\r\n          display: @dib;\r\n          color: rgb(255,255,255);\r\n          font-weight: 700;\r\n          .px2Rem(font-size, 32);\r\n        }\r\n      }\r\n      .c-info {\r\n        .px2Rem(line-height, 96);\r\n        .px2Rem(padding-left,24);\r\n        .px2Rem(padding-right, 68);\r\n        .c-i-info {\r\n          display: @dib;\r\n          color: rgba(255,255,255,0.4);\r\n          .px2Rem(font-size, 16);\r\n        }\r\n      }\r\n    }\r\n    .c-right {\r\n      .wh(150,96);\r\n      .px2Rem(font-size, 24);\r\n      text-align: center;\r\n      float: right;\r\n      .px2Rem(line-height, 96);\r\n      font-weight: 700;\r\n      color: rgba(255,255,255,0.4);\r\n      background-color: rgba(255,255,255,0.4);\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/common/cart/cart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"cart\",staticClass:\"cart\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive),expression:\"isActive\"}],staticClass:\"goodsType_wraper\"},[_c('div',{staticClass:\"goodsType\"},[_c('div',{staticClass:\"g_title\"},[_c('span',{staticClass:\"g_cart\"},[_vm._v(\"购物车\")]),_vm._v(\" \"),_c('span',{staticClass:\"clear\",on:{\"touchstart\":_vm.clearAll}},[_vm._v(\"清空\")])]),_vm._v(\" \"),_c('div',{ref:\"goodItem\",staticClass:\"goodItem\"},[_c('ul',_vm._l((_vm.selectFoods),function(val,index){return _c('li',{key:index,staticClass:\"typeItem\",on:{\"touchstart\":function($event){_vm.initScrollData($event, _vm.scroll)},\"touchmove\":function($event){_vm.startScroll($event, _vm.scroll)},\"touchend\":function($event){_vm.entScroll(_vm.scroll)}}},[_c('span',{staticClass:\"goodsName\"},[_vm._v(_vm._s(val.name))]),_vm._v(\" \"),_c('span',{staticClass:\"goodPrice\"},[_vm._v(\"￥\"),_c('span',{staticClass:\"p-price\"},[_vm._v(_vm._s(val.price * val.count))])]),_vm._v(\" \"),_c('BUY',{attrs:{\"food\":val}})],1)}))])])]),_vm._v(\" \"),_c('div',{staticClass:\"c-c\",on:{\"touchstart\":_vm.ShowBlock}},[_c('div',{staticClass:\"c-c-c\",class:{c_c_count:_vm.selectFoods.length}},[_c('span',{staticClass:\"iconfont icon-gouwuche\"})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.totalCount),expression:\"totalCount\"}],staticClass:\"count\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.totalCount))])])]),_vm._v(\" \"),_c('div',{staticClass:\"c-left\"},[_c('div',{staticClass:\"c-price\"},[_c('span',{staticClass:\"c-p-prize\"},[_vm._v(\"￥\"+_vm._s(_vm.totalPrice))])]),_vm._v(\" \"),_c('div',{staticClass:\"c-info\"},[_c('span',{staticClass:\"c-i-info\"},[_vm._v(\"另需配送费￥\"+_vm._s(_vm.deliveryPrice)+\"元\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"c-right\"},[_c('span',[_vm._v(\"￥\"+_vm._s(_vm.minPrice)+\"起送 \")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-713ab81c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/common/cart/cart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-713ab81c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cart.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-713ab81c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/cart/cart.vue\n// module id = null\n// module chunks = ","<template>\r\n<transition  enter-active-class=\"animated fadeInRight\" leave-active-class=\"animated fadeOutRight\" >\r\n  <div class=\"goodWrapper\"  v-show=\"isActive\">\r\n    <div class=\"goodsDetails\"  ref=\"goodsDetails\"  @touchstart= 'initScrollData($event, scroll)' @touchmove = \"startScroll($event, scroll)\" @touchend= \"entScroll(scroll)\">\r\n      <div class=\"imgHeader\">\r\n        <img :src=\"food.image\" alt=\"\">\r\n        <div>\r\n          <span class=\"iconfont icon-back\" @touchstart=\"showBlock\"></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"goodContent\">\r\n        <div class=\"content\">\r\n          <h1 class=\"title\">{{food.name}}</h1>\r\n          <div class=\"extra\">\r\n            <span class=\"sellCount\">月售{{food.sellCount}}份</span>\r\n            <span class=\"rating\">好评率{{food.rating}}%</span>\r\n          </div>\r\n          <div class=\"price\">\r\n            <span>￥<span class=\"p-price\">{{food.price}}</span></span>\r\n            <span v-if=\"food.oldPrice\" class=\"p-floor\">￥{{food.oldPrice}}</span>\r\n            <div class=\"prizeWrapper\">\r\n              <PRICE :food='food' v-if=\"food.count || !food.count === 0\"></PRICE>\r\n                <div class=\"addCart\" v-if=\"!food.count || food.count === 0\" @touchstart='addFoot'>\r\n                  <span>加入购物车</span>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <SPLICT></SPLICT>\r\n        <div class=\"goodIntroduce\">\r\n          <h1 class=\"title\">商品介绍</h1>\r\n          <aside>\r\n            <p class=\"text\">{{food.info}}</p>\r\n          </aside>\r\n        </div>\r\n        <SPLICT></SPLICT>\r\n        <div class=\"goodsRating\">\r\n          <h1 class=\"title\">商品评价</h1>\r\n          <RATING :desc='desc' :selectType='selectType' :onlyContent='onlyContent' :ratings='food.ratings' @ratingstype=\"transfrom\" @ratingsOnContent=\"toggleContent\"></RATING>\r\n          <div class=\"ratingsContent\">\r\n            <ul v-show=\"food.ratings && food.ratings.length\">\r\n              <li class=\"ratingItem\" v-show=\"needShow(val.rateType,val.text)\" v-for=\"(val, index) in food.ratings\" :key=\"index\">\r\n                <div>\r\n                  <p class=\"itemTime\">{{val.rateTime | formatDate}}</p>\r\n                  <p class=\"itemUserInfo\">{{val.username}}<img :src=\"val.avatar\"></p>\r\n                </div>\r\n                <p class=\"ratingText\"><span class=\"iconfont\" :class=\"[itive(val) ? 'icon-zan4' : 'icon-zan']\"></span>{{val.text}}</p>\r\n              </li>\r\n            </ul>\r\n            <div class=\"noRating\" v-if=\"!food.ratings || !food.ratings.length\">\r\n              <p>暂无评价!</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</transition>\r\n</template>\r\n<script>\r\n  import Vue from 'vue';\r\n  import PRICE from '../../../common/price/price';\r\n  import SPLICT from '../../../common/splict/splict';\r\n  import RATING from '../../../common/rating/rating';\r\n  import {formatDate} from '@/common/js/HQ';\r\n  const ALL = 2;\r\n  export default {\r\n    name: 'goodsDetails',\r\n    props: {\r\n      food: {\r\n        type: Object\r\n      }\r\n    },\r\n    data () {\r\n      return {\r\n        isActive: false,\r\n        selectType: ALL,\r\n        onlyContent: false,\r\n        initY: 0,\r\n        scrollY: 0,\r\n        desc: {\r\n          all: '全部',\r\n          positive: '推荐',\r\n          negative: '吐槽'\r\n        }\r\n      };\r\n    },\r\n    mounted () {\r\n      this.scroll = {\r\n        goodItem: {\r\n          scrollY: 0,\r\n          recordY: 0,\r\n          listY: [],\r\n          el: this.$refs.goodsDetails,\r\n          cls: '.goodsDetails'\r\n        }};\r\n    },\r\n    filters: {\r\n      formatDate (time) {\r\n        let date = new Date(time);\r\n        return formatDate(date, 'yyyy-MM-dd hh:mm:ss');\r\n      }\r\n    },\r\n    methods: {\r\n      showBlock () {\r\n        this.isActive = !this.isActive;\r\n        this.selectType = 2;\r\n        this.onlyContent = true;\r\n      },\r\n      transfrom (type) {\r\n        this.selectType = type;\r\n      },\r\n      toggleContent () {\r\n        this.onlyContent = !this.onlyContent;\r\n      },\r\n      addFoot () {\r\n        if (!this.food.count) {\r\n          Vue.set(this.food, 'count', 1);\r\n        } else {\r\n          this.food.count++;\r\n        }\r\n      },\r\n      itive (val) {\r\n        if (val.rateType) {\r\n          return true;\r\n        }\r\n        return false;\r\n      },\r\n      needShow (type, text) {\r\n        if (this.onlyContent && !text) {\r\n          return false;\r\n        };\r\n        if (this.selectType === ALL) {\r\n          return true;\r\n        } else {\r\n          return type === this.selectType;\r\n        }\r\n      },\r\n      initScrollData (e, re) {\r\n        this.initY = Math.ceil(e.changedTouches[0].clientY) + Math.abs(re.goodItem.recordY);\r\n      },\r\n      startScroll (e, re) {\r\n        var moveElm = re.goodItem.el;\r\n        this.scrollY = re.goodItem.scrollY = re.goodItem.recordY = Math.ceil(e.changedTouches[0].clientY - this.initY);\r\n        if (re.goodItem.scrollY < 0) {\r\n          moveElm.style.transition = 'none';\r\n          moveElm.style.top = Math.ceil(re.goodItem.scrollY) + 'px';\r\n        } else {\r\n          // moveElm.style.top = re.goodItem.recordY = 0;\r\n          moveElm.style.top = Math.ceil(re.goodItem.scrollY) + 'px';\r\n          // moveElm.style.transition = 'all 0.2s';\r\n          moveElm.style.transition = 'none';\r\n        }\r\n      },\r\n      entScroll (re) {\r\n        var moveElm = re.goodItem.el;\r\n        var ul = re.goodItem.el;\r\n        if (re.goodItem.scrollY < 0) {\r\n          let YY = moveElm.clientHeight - ul.scrollHeight;\r\n          if (Math.abs(re.goodItem.scrollY) >= Math.abs(YY)) {\r\n            re.goodItem.recordY = re.goodItem.scrollY = YY;\r\n            moveElm.style.top = YY + 'px';\r\n            moveElm.style.transition = 'all 0.2s';\r\n          }\r\n        } else {\r\n          if (moveElm.getBoundingClientRect().top > 0) {\r\n            moveElm.style.top = re.goodItem.recordY = 0;\r\n            moveElm.style.transition = 'all 0.5s';\r\n          }\r\n        }\r\n      }\r\n    },\r\n    components: {\r\n      PRICE,\r\n      SPLICT,\r\n      RATING\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  @import '../../../common/tools/mixin.less';\r\n  .goodWrapper {\r\n    position: fixed;\r\n    top: 0;\r\n    .px2Rem(bottom,96);\r\n    width: 100%;\r\n    // height: 100%;\r\n    z-index: 10;\r\n    background-color:#fff;\r\n    .goodsDetails {\r\n      position: absolute;\r\n      .px2Rem(bottom,0);\r\n      top: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      .imgHeader {\r\n        position: relative;\r\n        width: 100%;\r\n        height: 0;\r\n        padding-top: 100%;\r\n        img {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          height: 100%;\r\n        }\r\n        .icon-back {\r\n          position: fixed;\r\n          display: @dib;\r\n          color: #fff;\r\n          text-align: center;\r\n          .wh(50,50);\r\n          .px2Rem(top, 20);\r\n          .px2Rem(left,20);\r\n          .px2Rem(font-size,40);\r\n          .px2Rem(line-height,50);\r\n        }\r\n      }\r\n      .goodContent {\r\n        background-color:#fff;\r\n        .content {\r\n          .px2Rem2(padding, 36, 36);\r\n          .title {\r\n            color: rgb(7,17,27);\r\n            font-weight: 700;\r\n            .px2Rem(line-height, 28);\r\n            .px2Rem(margin-bottom, 16);\r\n            .px2Rem(font-size, 28);\r\n          }\r\n          .extra {\r\n            .px2Rem(margin-bottom, 36);\r\n            .px2Rem(line-height, 20);\r\n            .px2Rem(font-size, 0);\r\n            .sellCount,.rating {\r\n              .px2Rem(font-size, 20);\r\n              color:rgb(147,153,159);\r\n            }\r\n            .sellCount {\r\n              .px2Rem(margin-right,24)\r\n            }\r\n          }\r\n          .price {\r\n            color: red;\r\n            position: relative;\r\n            .px2Rem(font-size, 20);\r\n            .px2Rem(line-height,48);\r\n            .p-price {\r\n              .px2Rem(font-size, 28);\r\n            }\r\n            .p-floor{\r\n              color: rgb(147,153,159);\r\n              font-weight: 700;\r\n              text-decoration: line-through;\r\n            }\r\n            .prizeWrapper {\r\n              display: @dib;\r\n              position: absolute;\r\n              .px2Rem(right, 0);\r\n              .wh(1478,48);\r\n              .addCart {\r\n                z-index: 18;\r\n                color: #fff;\r\n                text-align: center;\r\n                position: absolute;\r\n                background-color: rgb(0,160,220);\r\n                .wh(148,48);\r\n                .px2Rem(right, 36);\r\n                .px2Rem(bottom, 0);\r\n                .px2Rem(font-size, 20);\r\n                .px2Rem(line-height, 48);\r\n                .px2Rem(border-radius, 24);\r\n                .px2Rem2(padding,0, 24);\r\n              }\r\n              .buy {\r\n                .px2Rem(right, 0);\r\n                .px2Rem(bottom, 0);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .goodIntroduce {\r\n          .px2Rem2(padding,36, 36);\r\n          .title {\r\n             .content .title;\r\n            .px2Rem(margin-bottom,12);\r\n          }\r\n          .text {\r\n            color:rgb(77,85,93);\r\n            .px2Rem(font-size, 24);\r\n            .px2Rem(line-height, 48);\r\n            .px2Rem2(margin,0, 16);\r\n          }\r\n        }\r\n        .goodsRating {\r\n          .title {\r\n            .content .title;\r\n            .px2Rem2(padding,0, 36);\r\n            .px2Rem(margin-bottom,12);\r\n          }\r\n          .ratingsContent {\r\n            ul {\r\n              .px2Rem2(padding,0, 36);\r\n              .ratingItem {\r\n                .px2Rem2(padding,36, 0);\r\n                .border(2,rgba(7,17,27,0.1));\r\n                div {\r\n                  display: flex;\r\n                  .itemTime {\r\n                    flex: 4;\r\n                    color: rgb(147,153,159);\r\n                    .px2Rem(font-size,20);\r\n                    .px2Rem(line-height,20);\r\n                    .timeMin {\r\n                      .px2Rem(margin-left,8);\r\n                    }\r\n                  }\r\n                  .itemUserInfo {\r\n                    flex: 1;\r\n                    text-align: right;\r\n                    .itemTime;\r\n                    img{\r\n                      border-radius: 50%;\r\n                      vertical-align: middle;\r\n                      .wh(24,24);\r\n                      .px2Rem(margin-left,12);\r\n                    }\r\n                  }\r\n                }\r\n                .ratingText {\r\n                  .px2Rem(padding-top,12);\r\n                  .px2Rem(font-size,24);\r\n                  .px2Rem(line-height,32);\r\n                  .icon-zan4{\r\n                    display: @dib;\r\n                    color: rgb(147,153,159);\r\n                    .px2Rem(line-height,48);\r\n                    .px2Rem(margin-right,8);\r\n                    vertical-align: middle;\r\n                  }\r\n                  .icon-zan{\r\n                    .icon-zan4;\r\n                    color: rgb(0,160,220);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            .noRating {\r\n              color: rgb(147,153,159);\r\n              .px2Rem2(padding,36,36);\r\n              .px2Rem(font-size,16);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/goods/goodsDetails/goodsDetails.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"enter-active-class\":\"animated fadeInRight\",\"leave-active-class\":\"animated fadeOutRight\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive),expression:\"isActive\"}],staticClass:\"goodWrapper\"},[_c('div',{ref:\"goodsDetails\",staticClass:\"goodsDetails\",on:{\"touchstart\":function($event){_vm.initScrollData($event, _vm.scroll)},\"touchmove\":function($event){_vm.startScroll($event, _vm.scroll)},\"touchend\":function($event){_vm.entScroll(_vm.scroll)}}},[_c('div',{staticClass:\"imgHeader\"},[_c('img',{attrs:{\"src\":_vm.food.image,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"iconfont icon-back\",on:{\"touchstart\":_vm.showBlock}})])]),_vm._v(\" \"),_c('div',{staticClass:\"goodContent\"},[_c('div',{staticClass:\"content\"},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.food.name))]),_vm._v(\" \"),_c('div',{staticClass:\"extra\"},[_c('span',{staticClass:\"sellCount\"},[_vm._v(\"月售\"+_vm._s(_vm.food.sellCount)+\"份\")]),_vm._v(\" \"),_c('span',{staticClass:\"rating\"},[_vm._v(\"好评率\"+_vm._s(_vm.food.rating)+\"%\")])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_c('span',[_vm._v(\"￥\"),_c('span',{staticClass:\"p-price\"},[_vm._v(_vm._s(_vm.food.price))])]),_vm._v(\" \"),(_vm.food.oldPrice)?_c('span',{staticClass:\"p-floor\"},[_vm._v(\"￥\"+_vm._s(_vm.food.oldPrice))]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"prizeWrapper\"},[(_vm.food.count || !_vm.food.count === 0)?_c('PRICE',{attrs:{\"food\":_vm.food}}):_vm._e(),_vm._v(\" \"),(!_vm.food.count || _vm.food.count === 0)?_c('div',{staticClass:\"addCart\",on:{\"touchstart\":_vm.addFoot}},[_c('span',[_vm._v(\"加入购物车\")])]):_vm._e()],1)])]),_vm._v(\" \"),_c('SPLICT'),_vm._v(\" \"),_c('div',{staticClass:\"goodIntroduce\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"商品介绍\")]),_vm._v(\" \"),_c('aside',[_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.food.info))])])]),_vm._v(\" \"),_c('SPLICT'),_vm._v(\" \"),_c('div',{staticClass:\"goodsRating\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"商品评价\")]),_vm._v(\" \"),_c('RATING',{attrs:{\"desc\":_vm.desc,\"selectType\":_vm.selectType,\"onlyContent\":_vm.onlyContent,\"ratings\":_vm.food.ratings},on:{\"ratingstype\":_vm.transfrom,\"ratingsOnContent\":_vm.toggleContent}}),_vm._v(\" \"),_c('div',{staticClass:\"ratingsContent\"},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.ratings && _vm.food.ratings.length),expression:\"food.ratings && food.ratings.length\"}]},_vm._l((_vm.food.ratings),function(val,index){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.needShow(val.rateType,val.text)),expression:\"needShow(val.rateType,val.text)\"}],key:index,staticClass:\"ratingItem\"},[_c('div',[_c('p',{staticClass:\"itemTime\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(val.rateTime)))]),_vm._v(\" \"),_c('p',{staticClass:\"itemUserInfo\"},[_vm._v(_vm._s(val.username)),_c('img',{attrs:{\"src\":val.avatar}})])]),_vm._v(\" \"),_c('p',{staticClass:\"ratingText\"},[_c('span',{staticClass:\"iconfont\",class:[_vm.itive(val) ? 'icon-zan4' : 'icon-zan']}),_vm._v(_vm._s(val.text))])])})),_vm._v(\" \"),(!_vm.food.ratings || !_vm.food.ratings.length)?_c('div',{staticClass:\"noRating\"},[_c('p',[_vm._v(\"暂无评价!\")])]):_vm._e()])],1)],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1386dac0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/goods/goodsDetails/goodsDetails.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1386dac0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./goodsDetails.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goodsDetails.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goodsDetails.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1386dac0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./goodsDetails.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1386dac0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/goods/goodsDetails/goodsDetails.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"goods\" ref='goods'>\r\n    <div class=\"menu\"  ref=\"menu\">\r\n      <ul>\r\n        <li v-for=\"(val,index) in goods\" :key=\"index\" class=\"menuItem\" :class=\"{current:switchMenuIndex() === index}\" @click= \"toggleNav(scroll.foods, index)\" @touchstart= 'initScrollData($event, scroll.menu)' @touchmove = \"startScroll($event, scroll.menu)\" @touchend= \"entScroll(scroll.menu, scroll.foods)\">\r\n          <p class=\"text\">\r\n            <span v-show=\"val.type > 0\" class=\"icon\" :class=\"classMap\"></span>\r\n            <span> {{val.name}}</span>\r\n          </p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"foods\" ref=\"foods\">\r\n      <ul>\r\n        <li v-for=\"(val, index) in goods\" :key=\"index\" class=\"foodsList\" @touchstart= 'initScrollData($event, scroll.foods)' @touchmove = \"startScroll($event, scroll.foods)\" @touchend= \"entScroll(scroll.foods, index, scroll.foods)\">\r\n          <h1 class=\"title\"> {{val.name}}</h1>\r\n          <ul>\r\n            <li v-for=\"(food, findex) in val.foods\" :key=\"findex\" class=\"foodItem\" @touchstart='acquire(food)'>\r\n              <div class=\"icon\" @touchstart='goodsDetail()'>\r\n                <img :src=\"food.icon\">\r\n              </div>\r\n              <div class=\"f-conent\">\r\n                <h2 class=\"name\">{{food.name}}</h2>\r\n                <p class=\"desc\">{{food.description}}</p>\r\n                <div class=\"extra\">\r\n                  <span>月售{{food.sellCount}}份</span>\r\n                  <span>好评率{{food.rating}}%</span>\r\n                </div>\r\n                <div class=\"price\">\r\n                  <span>￥<span class=\"p-price\">{{food.price}}</span></span>\r\n                  <span v-if=\"food.oldPrice\" class=\"p-floor\">￥{{food.oldPrice}}</span>\r\n                  <PRICE :food='food'></PRICE>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <cart ref=\"cart\" :select-foods='selectFoods' :delivery-price=\"seller.deliveryPrice\" :min-price=\"seller.minPrice\"></cart>\r\n    <goodsDetail ref=\"goodWrapper\" :food='foodList' ></goodsDetail>\r\n  </div>\r\n</template>\r\n<script>\r\nimport cart from '../../common/cart/cart';\r\nimport PRICE from '../../common/price/price';\r\nimport goodsDetail from './goodsDetails/goodsDetails';\r\nexport default {\r\n  name: 'goods',\r\n  props: {\r\n    seller: {\r\n      type: Object\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      goods: [],\r\n      initY: 0,\r\n      scrollY: 0,\r\n      listH: [],\r\n      foodList: {}\r\n    };\r\n  },\r\n  created () {\r\n    this.axios\r\n    .get('goods')\r\n    .then(res => {\r\n      this.goods = res.data.data;\r\n    });\r\n    this.classMap = ['decrease', 'discount', 'special', 'invoice', 'guarantee'];\r\n  },\r\n  mounted () {\r\n    this.scroll = {\r\n      menu: {\r\n        scrollY: 0,\r\n        recordY: 0,\r\n        listY: [],\r\n        el: this.$refs.menu,\r\n        cls: '.menuItem',\r\n        parent: '.menu',\r\n        index: 0\r\n      },\r\n      foods: {\r\n        scrollY: 0,\r\n        recordY: 0,\r\n        listY: [],\r\n        el: this.$refs.foods,\r\n        cls: '.foodsList',\r\n        parent: '.foods'\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    selectFoods () {\r\n      let foods = [];\r\n      this.goods.forEach((good) => {\r\n        good.foods.forEach((food) => {\r\n          if (food.count) {\r\n            foods.push(food);\r\n          }\r\n        });\r\n      });\r\n      return foods;\r\n    }\r\n  },\r\n  methods: {\r\n    initScrollData (e, re) {\r\n      this.initY = Math.ceil(e.changedTouches[0].clientY) + Math.abs(re.recordY);\r\n    },\r\n    startScroll (e, re) {\r\n      var moveElm = re.el;\r\n      this.scrollY = re.scrollY = re.recordY = Math.ceil(e.changedTouches[0].clientY - this.initY);\r\n      if (re.scrollY < 0) {\r\n        moveElm.style.transition = 'none';\r\n        moveElm.style.top = Math.ceil(re.scrollY) + 'px';\r\n      } else {\r\n        moveElm.style.transition = 'none';\r\n        moveElm.style.top = Math.ceil(re.scrollY) + 'px';\r\n      }\r\n    },\r\n    entScroll (re, index, rel) {\r\n      var moveElm = re.el;\r\n      var goodsH = this.$refs.goods;\r\n      var ul = re.el.querySelector(re.parent + '>ul');\r\n      if (re.scrollY < 0) {\r\n        let carHeight = this.$refs.cart.acquireHeight();\r\n        let YY = goodsH.clientHeight - carHeight - ul.scrollHeight;\r\n        if (Math.abs(re.scrollY) >= Math.abs(YY)) {\r\n          re.recordY = re.scrollY = YY;\r\n          moveElm.style.top = YY + 'px';\r\n          moveElm.style.transition = 'all 0.2s';\r\n        }\r\n      } else {\r\n        if (moveElm.getBoundingClientRect().top > 174) {\r\n          moveElm.style.top = re.recordY = 0;\r\n          moveElm.style.transition = 'all 0.2s';\r\n        }\r\n      }\r\n      if (re.cls === '.foodsList') {\r\n        this.calculateHeight(re);\r\n      }\r\n    },\r\n    calculateHeight (re) {\r\n      let foodList = re.el.querySelectorAll(re.cls);\r\n      let height = 0;\r\n      re.listY = [];\r\n      this.listH = [];\r\n      for (let i = 0; i < foodList.length; i++) {\r\n        let item = foodList[i];\r\n        height += item.clientHeight;\r\n        re.listY.push(height);\r\n      };\r\n      this.listH = re.listY;\r\n    },\r\n    switchMenuIndex () {\r\n       for (let i = 0; i < this.listH.length; i++) {\r\n         let height = this.listH[i];\r\n         if (Math.abs(this.scrollY) <= height) {\r\n           this.scroll.menu.index = i;\r\n           return this.scroll.menu.index;\r\n         }\r\n       }\r\n      return this.scroll.menu.index;\r\n    },\r\n    toggleNav (rel, index) {\r\n      this.calculateHeight(rel);\r\n      var scrollFoods = rel.el;\r\n      var itemIndex = index - 1;\r\n      if (itemIndex < 0) {\r\n        scrollFoods.style.top = 0 + 'px';\r\n        scrollFoods.style.transition = 'all 0.2s';\r\n        this.scrollY = 0;\r\n        rel.recordY = 0;\r\n      } else {\r\n        this.scroll.menu.index = index;\r\n        this.scrollY = this.listH[index];\r\n        rel.recordY = this.listH[itemIndex];\r\n        scrollFoods.style.top = -this.listH[itemIndex] + 'px';\r\n        scrollFoods.style.transition = 'all 0.2s';\r\n      }\r\n    },\r\n    goodsDetail () {\r\n      this.$refs.goodWrapper.showBlock();\r\n    },\r\n    acquire (food) {\r\n      this.foodList = food;\r\n    }\r\n  },\r\n  components: {\r\n    cart,\r\n    PRICE,\r\n    goodsDetail\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  @import '../../common/tools/mixin.less';\r\n  .goods {\r\n    display: flex;\r\n    position: absolute;\r\n    width: 100%;\r\n    overflow: hidden;\r\n    .px2Rem(top, 174 * 2);\r\n    .px2Rem(bottom,0);\r\n    .px2Rem(padding-bottom,96);\r\n    .menu {\r\n      .px2Rem(flex-basis, 160);\r\n      .px2Rem(width, 160);\r\n      position: relative;\r\n      .menuItem {\r\n        display: table;\r\n        text-align: center;\r\n        color: rgb(20, 20, 20);\r\n        word-wrap: break-word;\r\n        .wh(112, 108);\r\n        .px2Rem(font-size, 24);\r\n        .px2Rem(line-height, 28);\r\n        .px2Rem2(padding, 0, 24);\r\n        background-color: #f3f5f7;\r\n        .icon {\r\n          display: @dib;\r\n          .wh(24,24);\r\n          .px2Rem(margin-right,2);\r\n          .px2Rem(background-size,24);\r\n          background-repeat: no-repeat;\r\n          &.decrease {\r\n            .bgImg('../header/images/decrease_2');\r\n          }\r\n          &.discount {\r\n            .bgImg('../header/images/discount_2');\r\n          }\r\n          &.guarantee {\r\n            .bgImg('../header/images/guarantee_2');\r\n          }\r\n          &.invoice {\r\n            .bgImg('../header/images/invoice_2');\r\n          }\r\n          &.special {\r\n            .bgImg('../header/images/special_2');\r\n          }\r\n        }\r\n        &.current {\r\n          position: relative;\r\n          z-index: 10;\r\n          background: #fff;\r\n          font-weight: 700;\r\n        }\r\n        .text {\r\n          display: table-cell;\r\n          .px2Rem(font-size, 24);\r\n          vertical-align: middle;\r\n          .border(1,rgba(1,17,27,0.1));\r\n          .border-none();\r\n        }\r\n      }\r\n    }\r\n    .foods {\r\n      flex: 1;\r\n      position: relative;\r\n      .title {\r\n        .px2Rem(font-size, 24);\r\n        .px2Rem(padding-left, 24);\r\n        .px2Rem(line-height, 52);\r\n        .px2Rem(height, 52);\r\n        .bd(border-left, 4, solid,#d9dde1);\r\n        margin: 0;\r\n        background-color:#f3f5f7;\r\n        color: rgb(147, 153, 159);\r\n        font-weight: 200;\r\n      }\r\n      .foodItem {\r\n        display: flex;\r\n        position: relative;\r\n        .px2Rem(margin, 36);\r\n        .border(2, rgba(7,17,27,0.1));\r\n        .px2Rem(padding-bottom, 36);\r\n        &:last-child {\r\n          .border-none();\r\n        }\r\n        .icon {\r\n          .px2Rem(flex-basis, 114);\r\n          .px2Rem(margin-right, 20);\r\n          img {\r\n            .wh(114, 114);\r\n          }\r\n        }\r\n        .f-conent {\r\n          color: rgb(147,153,159);\r\n          .px2Rem(font-size, 20);\r\n          .name {\r\n            .px2Rem(font-size, 28);\r\n            .px2Rem(line-height,28);\r\n            color: rgb(7,17,27);\r\n            font-weight: 200;\r\n            .px2Rem(margin-top, 4);\r\n            .px2Rem(margin-bottom, 16);\r\n          }\r\n          .desc {\r\n            .px2Rem(margin-bottom, 16);\r\n            }\r\n          .extra{\r\n            .px2Rem(margin-bottom, 8);\r\n          }\r\n           .price {\r\n            color: red;\r\n            .px2Rem(font-size, 20);\r\n            .px2Rem(line-height,48);\r\n            .p-price {\r\n              .px2Rem(font-size, 28);\r\n            }\r\n            .p-floor{\r\n              color: rgb(147,153,159);\r\n              font-weight: 700;\r\n              text-decoration: line-through;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/goods/goods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"goods\",staticClass:\"goods\"},[_c('div',{ref:\"menu\",staticClass:\"menu\"},[_c('ul',_vm._l((_vm.goods),function(val,index){return _c('li',{key:index,staticClass:\"menuItem\",class:{current:_vm.switchMenuIndex() === index},on:{\"click\":function($event){_vm.toggleNav(_vm.scroll.foods, index)},\"touchstart\":function($event){_vm.initScrollData($event, _vm.scroll.menu)},\"touchmove\":function($event){_vm.startScroll($event, _vm.scroll.menu)},\"touchend\":function($event){_vm.entScroll(_vm.scroll.menu, _vm.scroll.foods)}}},[_c('p',{staticClass:\"text\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(val.type > 0),expression:\"val.type > 0\"}],staticClass:\"icon\",class:_vm.classMap}),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(val.name))])])])}))]),_vm._v(\" \"),_c('div',{ref:\"foods\",staticClass:\"foods\"},[_c('ul',_vm._l((_vm.goods),function(val,index){return _c('li',{key:index,staticClass:\"foodsList\",on:{\"touchstart\":function($event){_vm.initScrollData($event, _vm.scroll.foods)},\"touchmove\":function($event){_vm.startScroll($event, _vm.scroll.foods)},\"touchend\":function($event){_vm.entScroll(_vm.scroll.foods, index, _vm.scroll.foods)}}},[_c('h1',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(val.name))]),_vm._v(\" \"),_c('ul',_vm._l((val.foods),function(food,findex){return _c('li',{key:findex,staticClass:\"foodItem\",on:{\"touchstart\":function($event){_vm.acquire(food)}}},[_c('div',{staticClass:\"icon\",on:{\"touchstart\":function($event){_vm.goodsDetail()}}},[_c('img',{attrs:{\"src\":food.icon}})]),_vm._v(\" \"),_c('div',{staticClass:\"f-conent\"},[_c('h2',{staticClass:\"name\"},[_vm._v(_vm._s(food.name))]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(food.description))]),_vm._v(\" \"),_c('div',{staticClass:\"extra\"},[_c('span',[_vm._v(\"月售\"+_vm._s(food.sellCount)+\"份\")]),_vm._v(\" \"),_c('span',[_vm._v(\"好评率\"+_vm._s(food.rating)+\"%\")])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_c('span',[_vm._v(\"￥\"),_c('span',{staticClass:\"p-price\"},[_vm._v(_vm._s(food.price))])]),_vm._v(\" \"),(food.oldPrice)?_c('span',{staticClass:\"p-floor\"},[_vm._v(\"￥\"+_vm._s(food.oldPrice))]):_vm._e(),_vm._v(\" \"),_c('PRICE',{attrs:{\"food\":food}})],1)])])}))])}))]),_vm._v(\" \"),_c('cart',{ref:\"cart\",attrs:{\"select-foods\":_vm.selectFoods,\"delivery-price\":_vm.seller.deliveryPrice,\"min-price\":_vm.seller.minPrice}}),_vm._v(\" \"),_c('goodsDetail',{ref:\"goodWrapper\",attrs:{\"food\":_vm.foodList}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15da9b8a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/goods/goods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-15da9b8a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./goods.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-15da9b8a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./goods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-15da9b8a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/goods/goods.vue\n// module id = null\n// module chunks = ","export function formatDate (date, str) {\r\n  if (/(y+)/.test(str)) {\r\n    str = str.replace(RegExp.$1, (date.getFullYear() + ' ').substr(4 - RegExp.$1.length));\r\n  }\r\n  let o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds()\r\n  };\r\n  for (let k in o) {\r\n    if (new RegExp(`(${k})`).test(str)) {\r\n      let stry = o[k] + '';\r\n      str = str.replace(RegExp.$1, (RegExp.$1.length === 1) ? stry : padLeftZero(stry));\r\n    }\r\n  }\r\n  return str;\r\n};\r\nfunction padLeftZero (str) {\r\n  return ('00' + str).substr(str.length);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/HQ.js"],"sourceRoot":""}